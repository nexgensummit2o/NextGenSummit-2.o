{% extends 'event/dashboard_base.html' %} {% block title %}My Profile{% endblock title %} {% block dashboard_content %}
<h1 class="text-3xl font-bold mb-2 text-brand-text">My Profile</h1>
<p class="mb-6 text-gray-400">
  Update your account and personal information here.
</p>

{% if messages %}
<div class="mb-6">
  {% for message in messages %}
  <div
    class="p-4 rounded-lg {% if message.tags == 'success' %}bg-green-500/20 text-green-300 border border-green-500{% else %}bg-red-500/20 text-red-300 border border-red-500{% endif %}"
    role="alert"
  >
    {{ message }}
  </div>
  {% endfor %}
</div>
{% endif %}

<div class="max-w-7xl mx-auto grid lg:grid-cols-3 gap-10">
  <div class="bg-brand-secondary p-8 rounded-2xl shadow-xl">
    <h2 class="text-2xl font-bold mb-2 text-brand-accent-1">Account Details</h2>
    <p class="text-sm text-yellow-400 mb-6">
      Please provide your full name as per your Aadhaar card for certificate
      generation.
    </p>
    <form method="post">
      {% csrf_token %}
      <div class="space-y-4 text-brand-text">{{ user_form.as_p }}</div>
      <button
        type="submit"
        name="update_user"
        class="mt-6 w-full py-3 px-4 bg-brand-accent-1 text-white font-semibold rounded-full hover:bg-brand-hover hover:text-black transition"
      >
        Update Account
      </button>
    </form>
  </div>

  <div class="bg-brand-secondary p-8 rounded-2xl shadow-xl">
    <h2 class="text-2xl font-bold mb-6 text-brand-accent-1">Profile Details</h2>
    <form method="post">
      {% csrf_token %}
      <div class="space-y-4 text-brand-text">{{ profile_form.as_p }}</div>
      <button
        type="submit"
        name="update_profile"
        class="mt-6 w-full py-3 px-4 bg-brand-accent-1 text-white font-semibold rounded-full hover:bg-brand-hover hover:text-black transition"
      >
        Update Profile
      </button>
    </form>
  </div>

  <div class="bg-brand-secondary p-8 rounded-2xl shadow-xl">
    <h2 class="text-2xl font-bold mb-6 text-brand-accent-2">Change Password</h2>
    <form method="post">
      {% csrf_token %}
      <div class="space-y-4 text-brand-text">{{ password_form.as_p }}</div>
      <button
        type="submit"
        name="change_password"
        class="mt-6 w-full py-3 px-4 bg-brand-accent-2 text-white font-semibold rounded-full hover:bg-brand-hover hover:text-black transition"
      >
        Change Password
      </button>
    </form>
    <p class="text-center text-sm text-gray-400 mt-4">
      Forgot your password? Please contact an event organizer.
    </p>
  </div>
</div>
{% endblock dashboard_content %}
